(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/react_logo.4a7e38a8.svg"},function(e,t,a){e.exports=a.p+"static/media/spotify_logo.977b3a3c.svg"},function(e,t,a){e.exports=a.p+"static/media/add.27f8ae7d.svg"},function(e,t,a){e.exports=a(29)},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),c=a.n(s),l=(a(21),a(22),a(2)),o=a(3),i=a(6),u=a(4),m=a(5),h=(a(23),a(24),a(1)),p=a.n(h),d=a(7),f=a(11),y=new(a.n(f).a);function v(){var e=function(){var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(;e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}().access_token;return e||!1}function k(e){y.setAccessToken(e)}function g(){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.getUserPlaylists();case 3:return t=e.sent,a=t.items.map(function(e){return{id:e.id,playlistName:e.name}}),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[{id:null,playlistName:"We can't receive your playlists! Please login again.."}]);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function E(){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=y.getMe(),e.abrupt("return",Promise.resolve(t));case 5:e.prev=5,e.t0=e.catch(0),console.error("Catched error: ",e.t0),console.error(e.t0.stack);case 9:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.getPlaylistTracks(t);case 3:return a=e.sent,n=a.items.map(function(e){var t=e.track,a=e.track.album;return{artistName:e.track.artists[0].name,albumName:a.name,trackName:t.name}}),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Error: Attempting to get playlist tracks",e.t0),console.error(e.t0.stack);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}var N=a(12),C=a.n(N),T=a(13),S=a.n(T),x=a(14),_=a.n(x),P=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12 AccountLogin"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h5",{className:"mb-5 mt-2"},"This app generates a simple quiz based on your Spotify playlists.")),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("img",{src:C.a,className:"AccountLogin-logo-react",alt:"logo"}),r.a.createElement("img",{src:_.a,className:"AccountLogin-add-sign",alt:"logo"}),r.a.createElement("img",{src:S.a,className:"AccountLogin-logo-spotify",alt:"logo"})),r.a.createElement("div",{className:"col-md-12 mt-5 mb-3"},r.a.createElement("a",{className:"btn AccountLogin-link",href:"https://accounts.spotify.com/authorize?client_id=3c89e47259484dcb83163e8f47069497&redirect_uri=http://localhost:3000&redirect_uri="+["playlist-read-private","playlist-read-collaborative"].join("%20")+"&response_type=token&show_dialog=true`"}," Login to Spotify")),r.a.createElement("p",null,r.a.createElement("small",{className:"AccountLogin-warning-note"},r.a.createElement("i",null,"We will request authorization from Spotify only to view your ",r.a.createElement("b",null,"name"),", ",r.a.createElement("b",null,"playlists")," and their ",r.a.createElement("b",null,"tracks"),".",r.a.createElement("br",null),"None of this information will be recorded or shared with third parties."))))}}]),t}(n.Component),W=(a(26),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).isMoreThanOne=function(){return a.state.playlistCount>1?"s":""},a.classes=e,a.state={playlistCount:0,username:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(this.props.accessToken);case 2:return e.next=4,g();case 4:return t=e.sent,e.next=7,E();case 7:a=e.sent,this.setState({username:a.display_name,playlistCount:t.length});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12 mt-5 Greeting"},r.a.createElement("h2",{className:"mb-4"},"Hello ",r.a.createElement("span",null,this.state.username),"!"),r.a.createElement("p",{className:"mb-4"},"We found ",r.a.createElement("span",null,this.state.playlistCount," playlist",this.isMoreThanOne())," in your Spotify account.",r.a.createElement("br",null),"Choose one from the following dropdown menu and start your quiz!"))}}]),t}(n.Component)),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={isLogged:!1,accessToken:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=v();e?(this.setState({isLogged:!0,accessToken:e}),this.props.myState(!0),this.props.myToken(e)):(this.setState({isLogged:!1,accessToken:null}),this.props.myState(!1),this.props.myToken(null))}},{key:"render",value:function(){return this.state.isLogged?r.a.createElement(W,{accessToken:this.state.accessToken}):r.a.createElement(P,null)}}]),t}(n.Component),M=a(8),A=(a(27),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).renderListItems=function(){return a.state.playlists.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.playlistName)})},a.state={playlists:[],selectedPlaylist:null},a.handleSelect=a.handleSelect.bind(Object(M.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleSelect",value:function(e){this.setState({selectedPlaylist:e.target.value}),this.props.myPlaylist(e.target.value)}},{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(this.props.myToken);case 2:return e.next=4,g();case 4:t=e.sent,this.setState({playlists:t});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("select",{className:"form-control",onChange:this.handleSelect},r.a.createElement("option",{key:"0",value:""},"Choose your playlist!"),this.renderListItems())}}]),t}(n.Component)),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={playlistTracks:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"fetchTracks",value:function(){var e=Object(d.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:a=e.sent,n=a.map(function(e){return e.artistName+"+"+e.albumName+"+"+e.trackName}),this.setState({playlistTracks:n}),this.props.myTracks(this.state.playlistTracks);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.myPlaylist!==this.props.myPlaylist&&this.fetchTracks(this.props.myPlaylist)}},{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(this.props.myToken);case 2:this.fetchTracks(this.props.myPlaylist);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null}}]),t}(n.Component);function D(e){var t,a,n,r,s,c,l=[],o=Array.from({length:10},function(){return Math.floor(Math.random()*e.length)});for(t=o.slice(0,5),a=o.slice(5,10),n=0;n<t.length;n++){var i=String(e[t[n]]).split("+"),u=String(e[a[n]]).split("+");n%2===0?(r="Who / which group sings '"+i[2]+"'?",s=i[0],c=u[0]):(r="Which '"+i[0]+"' album is '"+i[2]+"' on?",s=i[1],c=u[1]),l.push({question:r,C_answer:s,W_answer:c})}return l}a(28);var U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleStartover=function(){a.componentDidUpdate(a.props.myTracks)},a.state={current:0,correct:0,incorrect:0,questions:[],C_answer:[],W_answer:[],alertType:"",alertMessage:""},a.handleSelection=a.handleSelection.bind(Object(M.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(d.a)(p.a.mark(function e(t){var a,n,r,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.myTracks===this.props.myTracks){e.next=8;break}return e.next=3,D(this.props.myTracks);case 3:a=e.sent,n=a.map(function(e){return e.question}),r=a.map(function(e){return e.C_answer}),s=a.map(function(e){return e.W_answer}),this.setState({questions:n,C_answer:r,W_answer:s,current:0,correct:0,incorrect:0});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props.myTracks)}},{key:"handleSelection",value:function(e){this.state.C_answer[this.state.current]===e?this.setState({correct:this.state.correct+1,current:this.state.current+1}):this.setState({incorrect:this.state.incorrect+1,current:this.state.current+1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12 CreateQuestions mt-3"},r.a.createElement(z,{correct:this.state.correct,incorrect:this.state.incorrect}),5!==this.state.current?r.a.createElement(I,{question:this.state.questions[this.state.current],C_answer:this.state.C_answer[this.state.current],W_answer:this.state.W_answer[this.state.current],onChange:this.handleSelection}):r.a.createElement(F,{correct:this.state.correct,handleStartover:this.handleStartover}))}}]),t}(n.Component);function z(e){return r.a.createElement("div",{className:"col-md-12 CreateQuestions-score-board"},r.a.createElement("span",null,"Correct: ",r.a.createElement("strong",null,e.correct)),r.a.createElement("span",null,"Incorrect: ",r.a.createElement("strong",null,e.incorrect)))}function I(e){var t,a=[],n=[e.C_answer,e.W_answer];return a=0===(t=Math.floor(Math.random()*n.length))?1:0,r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"lead"},e.question),r.a.createElement("div",{className:"form-check-inline"},r.a.createElement("label",{className:"form-check-label",htmlFor:"radio1"},r.a.createElement("input",{type:"radio",className:"form-check-input",id:"radio1",checked:"",onChange:function(t){return e.onChange(t.target.value)},value:n[t]}),n[t])),r.a.createElement("div",{className:"form-check-inline"},r.a.createElement("label",{className:"form-check-label",htmlFor:"radio2"},r.a.createElement("input",{type:"radio",className:"form-check-input",id:"radio2",checked:"",onChange:function(t){return e.onChange(t.target.value)},value:n[a]}),n[a])))}function F(e){var t=[];return t=e.correct<3?["alert-danger","Well, you should listen more!","\ud83d\ude15"]:e.correct>3?["alert-success","WOW!! You are a true fan!","\ud83d\ude0e"]:["alert-warning","Hmm, you were almost there!","\ud83d\ude10"],r.a.createElement("div",{className:"alert "+t[0],role:"alert"},r.a.createElement("h2",null,t[1]," ",r.a.createElement("span",{role:"img","aria-label":t[2]},t[2])),r.a.createElement("button",{className:"btn btn-link btn-start-over",onClick:function(){return e.handleStartover()}},"start over?"))}var Q=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleStateChange=function(t){e.setState({isLogged:t})},e.handleTokenChange=function(t){e.setState({token:t})},e.handlePlaylistChange=function(t){e.setState({selectedPlaylist:t})},e.handlePlaylistTracks=function(t){e.setState({tracks:t})},e.state={isLogged:!1,token:null,selectedPlaylist:"",tracks:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("header",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"font-weight-bold text-center mt-5 title"},"Spotify Playlists Quiz")))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement(L,{myState:this.handleStateChange,myToken:this.handleTokenChange}),r.a.createElement("div",{className:"col-md-12"},this.state.isLogged?r.a.createElement(A,{myToken:this.state.token,myPlaylist:this.handlePlaylistChange}):null,""!==this.state.selectedPlaylist?r.a.createElement(q,{myToken:this.state.token,myPlaylist:this.state.selectedPlaylist,myTracks:this.handlePlaylistTracks}):null,0!==this.state.tracks.length?r.a.createElement(U,{myTracks:this.state.tracks}):null))),r.a.createElement("footer",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 App-credential"},r.a.createElement("p",{className:"mt-5"},r.a.createElement("small",null,"- Developed by",r.a.createElement("a",{href:"https://alitursucular.github.io",target:"_blank",rel:"noopener noreferrer"}," Ali Tursucular"),"."))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[15,1,2]]]);
//# sourceMappingURL=main.06a44758.chunk.js.map